<%= form_for group, remote: true, id: "group-form" do |f| %>

  <div class="modal-body">
    <%= render "layouts/form_errors", errors: group.errors %>

    <div class="form-group">
      <%= f.label :name %>
      <%= f.text_field :name, class: "form-control", placeholder: "Group Name" %>
    </div>

    <%= hidden_field_tag "original_group_name", group.name %>

    <% unless group.new_record? %>
      <!-- Membership list -->
      <table class="table table-bordered table-condensed", id="memberships-list">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th class="span1"></th>
          </tr>
        </thead>
        <tbody>
          <%= render "memberships/list" %>
        </tbody>
      </table>
      
      <div>
        <%= render "memberships/form", membership: @new_membership %>
      </div>
    <% end %>
  </div>

  <%= render "layouts/modal_form_footer", f: f %>

<% end %>